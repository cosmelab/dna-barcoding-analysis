project: dna-barcoding-analysis
current_phase: deployment_ready
current_task: final_testing
last_updated: '2025-11-25T23:24:00'
active_jobs: []
blocking_issues:
  - Circular tree generation failing (toytree requires edge_type='c' for circular layout)
target_ready_date: '2025-11-25'
lab_context: Week 8 - Sanger sequencing analysis (students will analyze their PCR products from UC genomics)
strategy: '5-step consensus workflow, interactive tutorial required, reference sequences for tree context, zero-coding-experience friendly'
completed_today:
  - âœ… SOLVED CRITICAL BLOCKER: Tutorial hanging at Step 2 (consensus generation)
  - Added sequence trimming in create_consensus.py to remove N's and low-quality ends
  - Implemented >5% N-content detection - uses only central 400bp for alignment
  - Added one_alignment_only=True parameter to pairwise2
  - Tutorial now completes successfully in ~2.5 minutes (was hanging indefinitely)
  - Fixed circular tree edge_type from 'p' to 'c' (toytree requirement)
  - Verified run-analysis.sh still works (3-4 minutes)
  - Both tutorial.sh and run-analysis.sh use same code and both work
current_status:
  - Repository template READY for GitHub Classroom
  - All 5 pipeline modules complete and tested
  - Multi-layout tree visualization working (4 layouts)
  - Tree coloring system working (student samples red, genera colored)
  - Container publicly accessible (cosmelab/dna-barcoding-analysis:latest)
  - Documentation complete (README, github_classroom, start_here)
  - Windows/WSL Docker troubleshooting documented
  - Rich library working in container
  - Student progress tracker (check_progress.py) working
  - READY FOR ANDRE TO TEST via GitHub Classroom
pending_decisions:
  - Keep or hide tracking/ directory before public release
  - Create LICENSE file (README mentions MIT + CC BY 4.0)
next_up:
  - Andre to test via GitHub Classroom
  - Add customization guide for other use cases (optional)
  - Update pipeline modules to use rich for terminal output (optional)
  - Create documentation website (optional)
extensibility_notes:
  description: Pipeline is generic and can be adapted for other projects
  current_setup:
    - data/student_sequences/ - any .ab1 chromatograms
    - data/reference_sequences/ - swappable reference FASTA
    - trim_references_to_barcode.py - utility to trim GenBank refs
  future_use_cases:
    - Different organisms (insects, plants, fungi, bacteria)
    - Different barcode regions (ITS, rbcL, matK, 16S, COI)
    - Different reference databases
    - Research projects beyond coursework
    - Other courses at UCR or other institutions
  how_to_customize:
    - Replace socal_mosquitoes.fasta with your own references
    - Put your .ab1 files in data/student_sequences/
    - Use trim_references_to_barcode.py to prep GenBank sequences
    - BLAST step will search NCBI for any organism
